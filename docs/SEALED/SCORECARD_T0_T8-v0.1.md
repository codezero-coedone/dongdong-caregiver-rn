# SCORECARD — T0~T8 (v0.1, SEALED)

목적: “현 도달 지점/점수/증거”를 한 장으로 고정한다.  
규칙: **하위 개체가 100점이 아니면 상위도 0점**. (Tn-1-1이 0이면 Tn도 0)

---

## 0) 100점 판정(공통 DoD)

- 기능: “터치→상태 전환→다음 화면/모달→복귀”가 멈춤/무반응/중복탭 없이 동작
- 상태/데이터: 세션(토큰)·라우팅 플래그가 기대대로 저장/삭제됨(로그아웃으로 재검증 가능)
- 통신: API는 DBG에 `[rid=...]` 포함 로그로 남고, 서버 로그와 매칭 가능
- UX: “다음” 같은 범용 CTA 대신 상태(완료/성공/확인)가 표시되고, 바통 터치로 자연스럽게 넘어감
- 증거: 각 하위 개체마다 **(1) DBG 한 줄**, **(2) 화면 캡처 1장**

---

## 1) v0.1 오늘 레일(PII 최소화)

목표: **서비스데이터(매칭/저널) 완주 우선** → PII/서류는 후순위.  
허용(DEVTOOLS=1 빌드에서만):

- 주민번호/외국인번호 입력 강제 OFF
- 범죄경력회보서/자격증사진 업로드 강제 OFF
- 최소 프로필(폰+주소 기본값)로 가입완료 처리 가능

---

## 2) T0~T8 체크리스트 (대장 → 하위 개체)

T0 앱 실행
- T0-1: 콜드 스타트(크래시 0)
- T0-2: 재실행(백그라운드→포그라운드) 상태 보존
- T0-3: 스플래시/첫 렌더 지연으로 UX 끊김 0

T1 온보딩
- T1-1: 온보딩 화면 렌더(탭/스와이프 등 진입동작)
- T1-1-1: “다음” 단어/클래스명 등 기술 노출 0
- T1-2: 온보딩 완료 후 권한/로그인 진입 경로 단일(루프 0)

T2 권한
- T2-1: 권한 화면 진입(최초 1회)
- T2-1-1: 허용/거부 선택 UX 명확(무반응 0)
- T2-2: 허용/거부 모두에서 앱이 멈추지 않음
- T2-3: 완료 플래그 저장 → 재실행 시 재노출 0

T3 카카오 로그인
- T3-1: 로그인 UI 호출(무반응 0)
- T3-1-1: Kakao 화면 전환 후 복귀(앱으로 돌아옴) 100%
- T3-2: SDK 토큰 획득
- T3-2-1: 실패 시 사용자 문구는 “상태 안내 + 재시도”(기술/스택 노출 0)
- T3-3: POST /auth/social 성공(=DBG rid로 증거)
- T3-3-1: /auth/social 실패 시 DBG에 status/message/rid 1줄로 남음

T4 토큰 확보
- T4-1: access/refresh 저장
- T4-1-1: 앱 재시작 후에도 인증 상태 일관(루프 0)
- T4-2: API 호출에 Authorization 자동 첨부
- T4-2-1: 401이면 즉시 관측(DBG) + 재로그인/토큰정리 동작
- T4-3: 세션 로그아웃(토큰만 초기화) 후 재로그인 루프 100%

T5 WebView 진입 / 노동자는 RN100%
- T5-1(Guardian): 토큰 없으면 WebView 금지(하드게이트)
- T5-2(Guardian): 토큰 주입 후 WebView 로드
- T5-2-1: WebView 내부 로그/네트워크는 DBG로 브릿지 관측 가능
- T5-3(Caregiver): WebView 사용 0(네이티브만)

T6 마이페이지(역할 차이)
- T6-1: MY 진입
- T6-2: 역할(노동자/소비자)별 노출/동선이 의도대로(누수 0)
- T6-2-1: 역할 전환/가입완료 플래그가 “예상치 못한 화면”으로 튀지 않음
- T6-3: 로그아웃(세션만)으로 토큰 초기화 → 재로그인 100%

T7 매칭(주 로직)
- T7-1: 매칭 리스트/진행중 매칭 결정 로직
- T7-1-1: 빈 리스트(0)일 때도 앱이 막히지 않음(안내/CTA)
- T7-2: T8 선행조건(matchId) 확보
- T7-2-1(DEV): 첫 공고 자동 지원(매칭 생성) 레버 동작 + DBG 증거

T8 간병일지 작성/저장(오늘 목표)
- T8-0: 선행조건: matchId 존재(없으면 DEV 레버로 생성)
- T8-1: 간병일지 홈 진입(매칭/날짜 선택 UI 정상)
  - T8-1-1: /my/matches 200 (DBG rid)
  - T8-1-2: matchId 선택 변경 시 상태/화면 동기화
- T8-2: 일지 조회 레일
  - T8-2-1: GET /journals?matchId=... → 목록
  - T8-2-2: 선택 날짜 일지 존재 시 GET /journals/:id → 상세 로드
  - T8-2-3: 일지 없음(빈 상태) UX 100%
- T8-3: 일지 작성 레일
  - T8-3-1: POST /journals (matchId,date) 201
  - T8-3-2: 필드 단위(아침/점심/저녁/활력/의료/활동/메모) 저장 반영
  - T8-3-3: 작성 후 목록/상세 즉시 반영(갱신/캐시 불일치 0)
- T8-4: 일지 수정 레일
  - T8-4-1: PUT /journals/:id 200
  - T8-4-2: 종료시간(endDate) 이후 수정 불가(409/메시지 UX 100%)
- T8-5: 내구성
  - T8-5-1: 재진입/새로고침 후 동일 데이터
  - T8-5-2: 로그아웃(세션만) 후 재로그인 시에도 데이터 일관

